<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lofi Stream - Project Hub</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <style>
    :root {
      --bg: #1a1a2e;
      --bg-secondary: #16213e;
      --accent: #e94560;
      --accent-secondary: #0f3460;
      --text: #eaeaea;
      --text-muted: #a0a0a0;
      --success: #4ecca3;
      --warning: #ffc107;
      --border: #2a2a4a;
      --youtube: #ff0000;
      --twitch: #9146ff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }

    h1 {
      font-size: 2.5rem;
      background: linear-gradient(135deg, var(--accent), #ff6b6b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 0.5rem;
    }

    .subtitle {
      color: var(--text-muted);
      font-size: 1.1rem;
    }

    nav {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    nav a {
      padding: 0.5rem 1rem;
      background: var(--bg-secondary);
      color: var(--text);
      text-decoration: none;
      border-radius: 6px;
      border: 1px solid var(--border);
      transition: all 0.2s;
    }

    nav a:hover, nav a.active {
      background: var(--accent);
      border-color: var(--accent);
    }

    section {
      margin-bottom: 3rem;
    }

    h2 {
      color: var(--accent);
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--accent-secondary);
    }

    h3 {
      color: var(--text);
      margin: 1.5rem 0 0.75rem;
    }

    p {
      margin-bottom: 1rem;
      color: var(--text-muted);
    }

    .mermaid {
      background: var(--bg-secondary);
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1rem 0;
      overflow-x: auto;
    }

    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 1.5rem;
      margin: 1.5rem 0;
    }

    .project-card {
      background: var(--bg-secondary);
      padding: 1.5rem;
      border-radius: 12px;
      border: 2px solid var(--border);
      transition: border-color 0.3s;
    }

    .project-card:hover {
      border-color: var(--accent);
    }

    .project-card.youtube {
      border-left: 4px solid var(--youtube);
    }

    .project-card.twitch {
      border-left: 4px solid var(--twitch);
    }

    .project-card.docs {
      border-left: 4px solid var(--success);
    }

    .project-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .project-icon {
      font-size: 2rem;
    }

    .project-title {
      font-size: 1.25rem;
      font-weight: 600;
    }

    .project-card .status {
      display: inline-block;
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-left: auto;
    }

    .status.live {
      background: var(--success);
      color: var(--bg);
    }

    .status.dev {
      background: var(--warning);
      color: var(--bg);
    }

    .project-description {
      color: var(--text-muted);
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }

    .project-links {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .project-links a {
      padding: 0.4rem 0.8rem;
      background: var(--accent-secondary);
      color: var(--text);
      text-decoration: none;
      border-radius: 4px;
      font-size: 0.85rem;
      transition: background 0.2s;
    }

    .project-links a:hover {
      background: var(--accent);
    }

    .tech-badge {
      display: inline-block;
      padding: 0.2rem 0.5rem;
      background: var(--border);
      color: var(--text-muted);
      border-radius: 4px;
      font-size: 0.8rem;
      margin: 0.2rem;
    }

    .phase {
      background: var(--bg-secondary);
      padding: 1.25rem;
      border-radius: 8px;
      margin: 1rem 0;
      border-left: 4px solid var(--accent-secondary);
    }

    .phase.completed {
      border-left-color: var(--success);
    }

    .phase.current {
      border-left-color: var(--warning);
    }

    .phase.future {
      border-left-color: var(--accent);
    }

    .phase-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .phase-title {
      font-weight: 600;
      color: var(--text);
    }

    .phase-status {
      font-size: 0.8rem;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      background: var(--border);
    }

    .phase.completed .phase-status {
      background: var(--success);
      color: var(--bg);
    }

    .phase.current .phase-status {
      background: var(--warning);
      color: var(--bg);
    }

    ul {
      list-style: none;
      padding-left: 1rem;
    }

    li {
      position: relative;
      padding-left: 1.25rem;
      margin-bottom: 0.4rem;
      color: var(--text-muted);
    }

    li::before {
      content: '>';
      position: absolute;
      left: 0;
      color: var(--accent);
    }

    li.done::before {
      content: 'âœ“';
      color: var(--success);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      background: var(--bg-secondary);
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    th {
      background: var(--accent-secondary);
      color: var(--text);
      font-weight: 600;
    }

    td {
      color: var(--text-muted);
    }

    tr:last-child td {
      border-bottom: none;
    }

    code {
      background: var(--accent-secondary);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 0.9em;
    }

    footer {
      text-align: center;
      padding-top: 2rem;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <h1>Lofi Stream Project Hub</h1>
    <p class="subtitle">24/7 multi-platform lofi streaming infrastructure</p>
    <nav>
      <a href="index.html" class="active">Overview & Roadmap</a>
      <a href="platforms.html">Platforms</a>
      <a href="architecture.html">Architecture</a>
    </nav>
  </header>

  <section id="projects">
    <h2>Projects</h2>
    <p>Three interconnected repositories powering 24/7 lofi streams to YouTube and Twitch from a single Hetzner VPS.</p>

    <div class="project-grid">
      <div class="project-card youtube">
        <div class="project-header">
          <span class="project-icon">ðŸŒƒ</span>
          <span class="project-title">lofi-stream-youtube</span>
          <span class="status live">LIVE</span>
        </div>
        <p class="project-description">
          Night city theme with rain animation, glowing moon, and generative lofi audio.
          Streams 24/7 to YouTube at 720p with auto-recovery via systemd.
        </p>
        <div style="margin-bottom: 1rem;">
          <span class="tech-badge">HTML/CSS</span>
          <span class="tech-badge">Web Audio API</span>
          <span class="tech-badge">ffmpeg</span>
          <span class="tech-badge">systemd</span>
        </div>
        <div class="project-links">
          <a href="https://github.com/ldraney/lofi-stream-youtube" target="_blank">GitHub</a>
          <a href="https://ldraney.github.io/lofi-stream-youtube/" target="_blank">Live Page</a>
        </div>
      </div>

      <div class="project-card twitch">
        <div class="project-header">
          <span class="project-icon">â˜•</span>
          <span class="project-title">lofi-stream-twitch</span>
          <span class="status live">LIVE</span>
        </div>
        <p class="project-description">
          Cozy coffee shop theme with bookshelf, sleeping cat, and jazzy 7th chord lofi.
          Streams 24/7 to Twitch at 720p on the same VPS as YouTube.
        </p>
        <div style="margin-bottom: 1rem;">
          <span class="tech-badge">HTML/CSS</span>
          <span class="tech-badge">Web Audio API</span>
          <span class="tech-badge">ffmpeg</span>
          <span class="tech-badge">PulseAudio</span>
        </div>
        <div class="project-links">
          <a href="https://github.com/ldraney/lofi-stream-twitch" target="_blank">GitHub</a>
          <a href="https://ldraney.github.io/lofi-stream-twitch/" target="_blank">Live Page</a>
        </div>
      </div>

      <div class="project-card docs">
        <div class="project-header">
          <span class="project-icon">ðŸ“š</span>
          <span class="project-title">lofi-stream-docs</span>
          <span class="status dev">DOCS</span>
        </div>
        <p class="project-description">
          Central documentation hub (this site). Contains unified roadmap, architecture diagrams,
          and operational documentation for all lofi-stream projects.
        </p>
        <div style="margin-bottom: 1rem;">
          <span class="tech-badge">HTML</span>
          <span class="tech-badge">Mermaid.js</span>
          <span class="tech-badge">GitHub Pages</span>
        </div>
        <div class="project-links">
          <a href="https://github.com/ldraney/lofi-stream-docs" target="_blank">GitHub</a>
        </div>
      </div>
    </div>
  </section>

  <section id="how-it-works">
    <h2>How It All Connects</h2>

    <div class="mermaid">
flowchart TB
    subgraph repos["GitHub Repositories"]
        YT_REPO["lofi-stream-youtube<br/>ðŸŒƒ Night City Theme"]
        TW_REPO["lofi-stream-twitch<br/>â˜• Coffee Shop Theme"]
        DOCS_REPO["lofi-stream-docs<br/>ðŸ“š Documentation Hub"]
    end

    subgraph pages["GitHub Pages (Static Hosting)"]
        YT_PAGE["ldraney.github.io/lofi-stream-youtube"]
        TW_PAGE["ldraney.github.io/lofi-stream-twitch"]
        DOCS_PAGE["ldraney.github.io/lofi-stream-docs"]
    end

    subgraph vps["Hetzner CPX62 (135.181.150.82)"]
        subgraph yt_stack["YouTube Stream Stack"]
            XVFB1["Xvfb :99"]
            CHROME1["Chromium"]
            PULSE1["PulseAudio<br/>virtual_speaker"]
            FF1["FFmpeg"]
        end
        subgraph tw_stack["Twitch Stream Stack"]
            XVFB2["Xvfb :98"]
            CHROME2["Chromium"]
            PULSE2["PulseAudio<br/>twitch_speaker"]
            FF2["FFmpeg"]
        end
    end

    subgraph platforms["Streaming Platforms"]
        YOUTUBE["YouTube Live<br/>RTMP :1935"]
        TWITCH["Twitch Live<br/>RTMP :1935"]
    end

    YT_REPO --> YT_PAGE
    TW_REPO --> TW_PAGE
    DOCS_REPO --> DOCS_PAGE

    YT_PAGE -->|"Rendered by"| CHROME1
    TW_PAGE -->|"Rendered by"| CHROME2

    XVFB1 --> CHROME1
    CHROME1 --> PULSE1
    XVFB1 --> FF1
    PULSE1 --> FF1
    FF1 -->|"RTMP"| YOUTUBE

    XVFB2 --> CHROME2
    CHROME2 --> PULSE2
    XVFB2 --> FF2
    PULSE2 --> FF2
    FF2 -->|"RTMP"| TWITCH
    </div>
  </section>

  <section id="roadmap">
    <h2>Unified Roadmap</h2>

    <div class="mermaid">
timeline
    title Lofi Stream Evolution
    section Foundation
        Dec 2024 : YouTube stream live
                 : Twitch stream live
                 : Dual-stream on single VPS
    section Growth
        Q1 2025 : Visual polish & variations
                : Discord alerts & monitoring
                : Multi-platform expansion
    section Monetization
        Q2 2025 : YouTube Partner Program
                : Twitch Affiliate
                : Donation integration
    section Interactive
        Q3 2025 : Easter egg hunt feature
                : Viewer analytics
                : Chat integration
    </div>

    <h3>Completed Phases</h3>

    <div class="phase completed">
      <div class="phase-header">
        <span class="phase-title">Phase 1: Foundation - YouTube</span>
        <span class="phase-status">Done</span>
      </div>
      <ul>
        <li class="done">Create lofi HTML page with night city visuals</li>
        <li class="done">Implement generative audio via Web Audio API</li>
        <li class="done">Deploy to GitHub Pages</li>
        <li class="done">Set up Hetzner VPS with Xvfb + Chromium + ffmpeg</li>
        <li class="done">Configure systemd for auto-recovery</li>
        <li class="done">Stream live to YouTube 24/7</li>
      </ul>
    </div>

    <div class="phase completed">
      <div class="phase-header">
        <span class="phase-title">Phase 2: Expansion - Twitch</span>
        <span class="phase-status">Done</span>
      </div>
      <ul>
        <li class="done">Create coffee shop themed lofi page</li>
        <li class="done">Implement jazzy 7th chord audio generation</li>
        <li class="done">Configure dual-stream on same VPS (separate displays + audio sinks)</li>
        <li class="done">Stream live to Twitch 24/7</li>
        <li class="done">Document dual-stream architecture</li>
      </ul>
    </div>

    <h3>Current Phase</h3>

    <div class="phase current">
      <div class="phase-header">
        <span class="phase-title">Phase 3: Documentation & Operations</span>
        <span class="phase-status">In Progress</span>
      </div>
      <ul>
        <li class="done">Create lofi-stream-docs repository</li>
        <li class="done">Configure GitHub secrets across all repos</li>
        <li>Set up GitHub Pages for documentation site</li>
        <li>Add Discord webhook alerts for stream failures</li>
        <li>Create health-check automation</li>
      </ul>
    </div>

    <h3>Future Phases</h3>

    <div class="phase future">
      <div class="phase-header">
        <span class="phase-title">Phase 4: Visual & Audio Polish</span>
        <span class="phase-status">Planned</span>
      </div>
      <ul>
        <li>Time-of-day variations (dawn, day, dusk, night)</li>
        <li>Seasonal themes (snow, autumn leaves, spring)</li>
        <li>More audio variations and instruments</li>
        <li>Smooth transitions between audio patterns</li>
      </ul>
    </div>

    <div class="phase future">
      <div class="phase-header">
        <span class="phase-title">Phase 5: Multi-Platform Expansion</span>
        <span class="phase-status">Planned</span>
      </div>
      <ul>
        <li>Add Kick streaming output</li>
        <li>Evaluate Restream.io for simplified multi-platform</li>
        <li>Platform-specific optimizations (bitrate, resolution)</li>
        <li>Automated stream key rotation</li>
      </ul>
    </div>

    <div class="phase future">
      <div class="phase-header">
        <span class="phase-title">Phase 6: Monetization</span>
        <span class="phase-status">Planned</span>
      </div>
      <ul>
        <li>Reach YouTube Partner requirements (1k subs, 4k hours)</li>
        <li>Reach Twitch Affiliate requirements (50 followers, 3 avg viewers)</li>
        <li>Enable Super Chat / Bits donations</li>
        <li>Consider channel memberships / subscriptions</li>
      </ul>
    </div>

    <div class="phase future">
      <div class="phase-header">
        <span class="phase-title">Phase 7: Interactive Features</span>
        <span class="phase-status">Vision</span>
      </div>
      <ul>
        <li>"Where's Waldo" easter egg hunt on live page</li>
        <li>Hidden clickable elements with discovery tracking</li>
        <li>Viewer leaderboard for finding secrets</li>
        <li>Chat commands that trigger visual effects</li>
        <li>Analytics dashboard for engagement metrics</li>
      </ul>
    </div>
  </section>

  <section id="comparison">
    <h2>Stream Comparison</h2>

    <table>
      <tr>
        <th>Aspect</th>
        <th>YouTube (Night City)</th>
        <th>Twitch (Coffee Shop)</th>
      </tr>
      <tr>
        <td>Theme</td>
        <td>ðŸŒƒ Rainy night city, neon glow</td>
        <td>â˜• Cozy cafe, warm amber tones</td>
      </tr>
      <tr>
        <td>Color Palette</td>
        <td>Cool blues, purples, pink neon</td>
        <td>Warm browns, amber, soft yellows</td>
      </tr>
      <tr>
        <td>Audio Style</td>
        <td>Lo-fi pads, brown noise rain</td>
        <td>Jazz 7th chords, walking bass</td>
      </tr>
      <tr>
        <td>Visual Elements</td>
        <td>Rain drops, moon, city skyline</td>
        <td>Bookshelf, cat, candle, plant</td>
      </tr>
      <tr>
        <td>Display</td>
        <td>:99</td>
        <td>:98</td>
      </tr>
      <tr>
        <td>Audio Sink</td>
        <td>virtual_speaker</td>
        <td>twitch_speaker</td>
      </tr>
      <tr>
        <td>Resolution</td>
        <td>720p @ 24fps</td>
        <td>720p @ 30fps</td>
      </tr>
      <tr>
        <td>Bitrate</td>
        <td>1.5 Mbps</td>
        <td>2.5 Mbps</td>
      </tr>
      <tr>
        <td>RTMP Endpoint</td>
        <td>rtmp://a.rtmp.youtube.com/live2</td>
        <td>rtmp://live.twitch.tv/app</td>
      </tr>
    </table>
  </section>

  <section id="cost">
    <h2>Infrastructure Cost</h2>

    <table>
      <tr>
        <th>Service</th>
        <th>Provider</th>
        <th>Cost</th>
        <th>Notes</th>
      </tr>
      <tr>
        <td>VPS (CPX62)</td>
        <td>Hetzner</td>
        <td>$42.99/mo</td>
        <td>16 vCPU AMD, 32GB RAM - capacity for 16-20 streams</td>
      </tr>
      <tr>
        <td>Static Hosting</td>
        <td>GitHub Pages</td>
        <td>Free</td>
        <td>Hosts all HTML/CSS/JS</td>
      </tr>
      <tr>
        <td>YouTube Streaming</td>
        <td>YouTube</td>
        <td>Free</td>
        <td>RTMP ingest, unlimited bandwidth</td>
      </tr>
      <tr>
        <td>Twitch Streaming</td>
        <td>Twitch</td>
        <td>Free</td>
        <td>RTMP ingest, unlimited bandwidth</td>
      </tr>
      <tr>
        <td><strong>Total</strong></td>
        <td></td>
        <td><strong>~$43/mo</strong></td>
        <td>Capacity for 16-20 streams at ~$2.50/stream</td>
      </tr>
    </table>
  </section>

  <footer>
    <p>
      <a href="https://github.com/ldraney/lofi-stream-docs">lofi-stream-docs</a> |
      <a href="https://github.com/ldraney/lofi-stream-youtube">lofi-stream-youtube</a> |
      <a href="https://github.com/ldraney/lofi-stream-twitch">lofi-stream-twitch</a>
    </p>
    <p>Prod: 135.181.150.82 | Dev: 5.78.42.22 | Last updated: December 2025</p>
  </footer>

  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: 'dark',
      themeVariables: {
        primaryColor: '#e94560',
        primaryTextColor: '#eaeaea',
        primaryBorderColor: '#0f3460',
        lineColor: '#a0a0a0',
        secondaryColor: '#16213e',
        tertiaryColor: '#1a1a2e',
        background: '#1a1a2e',
        mainBkg: '#16213e',
        nodeBorder: '#0f3460',
        clusterBkg: '#16213e',
        clusterBorder: '#0f3460',
        titleColor: '#e94560',
        edgeLabelBackground: '#16213e'
      },
      flowchart: {
        curve: 'basis',
        padding: 20
      }
    });
  </script>
</body>
</html>
